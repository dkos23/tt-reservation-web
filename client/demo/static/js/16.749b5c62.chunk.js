(this["webpackJsonptt-reservation-web"]=this["webpackJsonptt-reservation-web"]||[]).push([[16],{298:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(3),a=n(309),s=n(310),c=n(72),i=n(137);function o(e){var t=e.apiState,n=t.success,a=t.loading,s=t.error;return a?Object(r.jsx)(i.a,{loading:!0,text:"Speichern..."}):s?Object(r.jsx)(i.a,{error:!0,text:"Konnte nicht gespeichert werden"}):n?Object(r.jsx)(i.a,{success:!0,text:"Gespeichert"}):null}function l(e){var t=e.apiState,n=void 0===t?{}:t,i=e.disableReset,l=e.onSave,u=e.onReset;return Object(r.jsxs)(a.a,{gutter:[16,16],align:"middle",children:[Object(r.jsx)(s.a,{children:Object(r.jsx)(c.a,{disabled:n.loading,onClick:l,type:"primary",htmlType:"submit",children:"Speichern"})}),Object(r.jsx)(s.a,{children:Object(r.jsx)(c.a,{disabled:n.loading||i,onClick:u,htmlType:"reset",children:"Zur\xfccksetzen"})}),Object(r.jsx)(s.a,{children:Object(r.jsx)(o,{apiState:n})})]})}},309:function(e,t,n){"use strict";var r=n(349);t.a=r.a},310:function(e,t,n){"use strict";var r=n(336);t.a=r.a},358:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(33),a=n(3),s=n(573),c=n(370),i=n(556),o=n(401),l=n(72),u=n(0),d=n(137),m=n(298),b=n(58),p=n(359),j=n.n(p);function h(e){var t=e.apiState,n=void 0===t?{}:t,p=e.onFinish,h=e.user,f=Object(u.useContext)(b.b).templates.systemTos,v=s.a.useForm(),g=Object(r.a)(v,1)[0],O=Object(u.useState)(!0),x=Object(r.a)(O,2),y=x[0],w=x[1],E=n.loading,N=Object(u.useRef)(null),C=Object(u.useCallback)((function(){g.resetFields(),w(!0)}),[g]);Object(u.useEffect)((function(){C()}),[C,h]),Object(u.useEffect)((function(){n.success&&C(),n.error&&(N.current=g.getFieldValue("mail"),g.validateFields())}),[g,n,C]);var P=Object(u.useCallback)((function(){y&&w(!1)}),[y]);return Object(a.jsxs)(s.a,{form:g,className:j.a.form,layout:"vertical",onFinish:p,onFieldsChange:P,children:[n.error&&Object(a.jsx)(s.a.Item,{children:Object(a.jsx)(c.a,{type:"error",message:"Registrierung fehlgeschlagen."})}),Object(a.jsx)(s.a.Item,{label:"Anzeigename",name:"name",initialValue:null===h||void 0===h?void 0:h.name,rules:[{required:!0,message:"Der Anzeigename darf nicht leer sein"},{pattern:/^[\u00c0-\u017eA-Za-z0-9.]{1}[\u00c0-\u017eA-Za-z0-9\s.]{3,18}[\u00c0-\u017eA-Za-z0-9.]{1}$/,message:"Zwischen 5 und 20 Zeichen bestehend aus: Buchstaben, Zahlen, Punkten sowie Leerzeichen (au\xdfer am Anfang / Ende)"}],children:Object(a.jsx)(i.a,{autoComplete:"name",disabled:E})}),Object(a.jsx)(s.a.Item,{name:"mail",label:"E-Mail",initialValue:null===h||void 0===h?void 0:h.mail,rules:[{type:"email",message:"Beispiel: mustermann@web.de"},{required:!0,message:"E-Mail Adresse ist erforderlich"},{required:!0,validator:function(e,t){var r;return 400===n.status&&"mail already registered"===(null===(r=n.error)||void 0===r?void 0:r.message)&&t===N.current?Promise.reject("E-Mail ist bereits registriert"):Promise.resolve()}}],children:Object(a.jsx)(i.a,{autoComplete:"email",disabled:E})}),Object(a.jsx)(s.a.Item,{label:h?"Neues Passwort":"Passwort",name:"password",rules:[{required:!0,validator:function(e,t){return(null===t||void 0===t?void 0:t.length)>0&&(null===t||void 0===t?void 0:t.length)<8||!h&&!t?Promise.reject("Mindestens 8 Zeichen erforderlich"):Promise.resolve()}}],children:Object(a.jsx)(i.a.Password,{autoComplete:"new-password",placeholder:h?"Nicht \xe4ndern":"Mind. 8 Zeichen",disabled:E})}),Object(a.jsx)(s.a.Item,{label:"Passwort best\xe4tigen",name:"password-confirm",dependencies:["password"],rules:[function(e){var t=e.getFieldValue;return{required:!0,validator:function(e,n){var r=t("password");return r===n||!r&&!n?Promise.resolve():Promise.reject("Passw\xf6rter stimmen nicht \xfcberein!")}}}],children:Object(a.jsx)(i.a.Password,{autoComplete:"new-password",placeholder:h?"Nicht \xe4ndern":"Mind. 8 Zeichen",disabled:E})}),!h&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Nutzungsbedingungen"}),Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:f.body}})]}),Object(a.jsx)(s.a.Item,{name:"tos-accept",valuePropName:"checked",rules:[{validator:function(e,t){return t?Promise.resolve():Promise.reject("Erforderlich")}}],children:Object(a.jsx)(o.a,{disabled:E,children:"Ich akzeptiere die Nutzungsbedingungen"})})]}),Object(a.jsx)(s.a.Item,{children:h?Object(a.jsx)(m.a,{apiState:n,disableReset:y,onReset:C}):Object(a.jsx)(l.a,{type:"primary",htmlType:"submit",disabled:E,children:Object(a.jsx)(d.a,{loading:E,text:E?"Registrierung...":"Registrieren"})})})]})}},359:function(e,t,n){e.exports={form:"RegisterForm_form__34nyc"}},370:function(e,t,n){"use strict";var r=n(2),a=n.n(r),s=n(4),c=n.n(s),i=n(32),o=n.n(i),l=n(0),u=n(70),d=n.n(u),m=n(107),b=n.n(m),p=n(87),j=n.n(p),h=n(108),f=n.n(h),v=n(109),g=n.n(v),O=n(103),x=n.n(O),y=n(104),w=n.n(y),E=n(140),N=n.n(E),C=n(71),P=n.n(C),k=n(41),S=n(5),I=n.n(S),M=n(47);var _=n(11),z=n.n(_),A=n(13),F=n.n(A),R=n(14),Z=n.n(R),D=n(15),T=n.n(D),L=function(e){Z()(n,e);var t=T()(n);function n(){var e;return z()(this,n),(e=t.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return F()(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.description,r=e.children,a=this.state,s=a.error,c=a.info,i=c&&c.componentStack?c.componentStack:null,o="undefined"===typeof t?(s||"").toString():t,u="undefined"===typeof n?i:n;return s?l.createElement(J,{type:"error",message:o,description:l.createElement("pre",null,u)}):r}}]),n}(l.Component),B=n(38),q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},H={success:x.a,info:N.a,error:P.a,warning:w.a},V={success:b.a,info:f.a,error:g.a,warning:j.a},W=function(e){var t,n=e.description,r=e.prefixCls,s=e.message,i=e.banner,u=e.className,m=void 0===u?"":u,b=e.style,p=e.onMouseEnter,j=e.onMouseLeave,h=e.onClick,f=e.afterClose,v=e.showIcon,g=e.closable,O=e.closeText,x=q(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText"]),y=l.useState(!1),w=o()(y,2),E=w[0],N=w[1],C=l.useRef(),P=l.useContext(M.b),S=P.getPrefixCls,_=P.direction,z=S("alert",r),A=function(e){var t;N(!0),null===(t=x.onClose)||void 0===t||t.call(x,e)},F=!!O||g,R=function(){var e=x.type;return void 0!==e?e:i?"warning":"info"}(),Z=!(!i||void 0!==v)||v,D=I()(z,"".concat(z,"-").concat(R),(t={},c()(t,"".concat(z,"-with-description"),!!n),c()(t,"".concat(z,"-no-icon"),!Z),c()(t,"".concat(z,"-banner"),!!i),c()(t,"".concat(z,"-closable"),F),c()(t,"".concat(z,"-rtl"),"rtl"===_),t),m),T=function(e){return Object.keys(e).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n]),t}),{})}(x);return l.createElement(k.b,{visible:!E,motionName:"".concat(z,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:f},(function(e){var t=e.className,r=e.style;return l.createElement("div",a()({ref:C,"data-show":!E,className:I()(D,t),style:a()(a()({},b),r),onMouseEnter:p,onMouseLeave:j,onClick:h,role:"alert"},T),Z?function(){var e=x.icon,t=(n?V:H)[R]||null;return e?Object(B.c)(e,l.createElement("span",{className:"".concat(z,"-icon")},e),(function(){return{className:I()("".concat(z,"-icon"),c()({},e.props.className,e.props.className))}})):l.createElement(t,{className:"".concat(z,"-icon")})}():null,l.createElement("span",{className:"".concat(z,"-message")},s),l.createElement("span",{className:"".concat(z,"-description")},n),F?l.createElement("button",{type:"button",onClick:A,className:"".concat(z,"-close-icon"),tabIndex:0},O?l.createElement("span",{className:"".concat(z,"-close-text")},O):l.createElement(d.a,null)):null)}))};W.ErrorBoundary=L;var J=t.a=W},387:function(e,t,n){"use strict";var r=n(2),a=n.n(r),s=n(4),c=n.n(s),i=n(0),o=n(5),l=n.n(o),u=n(47),d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};t.a=function(e){return i.createElement(u.a,null,(function(t){var n,r=t.getPrefixCls,s=t.direction,o=e.prefixCls,u=e.type,m=void 0===u?"horizontal":u,b=e.orientation,p=void 0===b?"center":b,j=e.className,h=e.children,f=e.dashed,v=e.plain,g=d(e,["prefixCls","type","orientation","className","children","dashed","plain"]),O=r("divider",o),x=p.length>0?"-".concat(p):p,y=!!h,w=l()(O,"".concat(O,"-").concat(m),(n={},c()(n,"".concat(O,"-with-text"),y),c()(n,"".concat(O,"-with-text").concat(x),y),c()(n,"".concat(O,"-dashed"),!!f),c()(n,"".concat(O,"-plain"),!!v),c()(n,"".concat(O,"-rtl"),"rtl"===s),n),j);return i.createElement("div",a()({className:w},g,{role:"separator"}),h&&i.createElement("span",{className:"".concat(O,"-inner-text")},h))}))}},507:function(e,t,n){e.exports={wrapper:"MyAccountPage_wrapper__3toHY",alert:"MyAccountPage_alert__3aUB_",buttonWrapper:"MyAccountPage_buttonWrapper__3cS0i"}},567:function(e,t,n){"use strict";n.r(t),n.d(t,"MyAccountPage",(function(){return v}));var r=n(33),a=n(3),s=n(370),c=n(387),i=n(72),o=n(283),l=n(30),u=n(62),d=n(0),m=n(358),b=n(57),p=n(85),j=n(507),h=n.n(j),f=n(86);function v(){var e=Object(d.useContext)(b.b),t=e.user,n=e.setUser,j=Object(f.a)(p.h,n),v=Object(r.a)(j,2),g=v[0],O=v[1],x=Object(l.g)(),y=Object(d.useCallback)((function(e){var n=e.name,r=e.mail,a=e.password,s={userId:t.userId};n!==t.name&&(s.name=n),r!==t.mail&&(s.mail=r),a&&(s.password=a),O({path:{userId:t.userId}},s,(function(){r!==t.mail&&x.push("/verify-mail/send")}))}),[O,t,x]);return Object(a.jsxs)("div",{className:h.a.wrapper,children:[Object(a.jsx)("h1",{children:"Benutzerkonto"}),!t.verified&&Object(a.jsx)(s.a,{className:h.a.alert,type:"warning",showIcon:!0,message:Object(a.jsxs)("div",{children:["E-Mail Adresse nicht verifziert! ",Object(a.jsx)(u.b,{to:"/verify-mail/send",children:"Erneut senden"})]})}),Object(a.jsx)(m.a,{apiState:g,onFinish:y,user:t}),Object(a.jsx)(c.a,{}),Object(a.jsx)("h1",{children:"Datenschutz"}),Object(a.jsxs)("div",{className:h.a.buttonWrapper,children:[Object(a.jsx)(i.a,{disabled:!0,children:"Datenauskunft anfordern"}),Object(a.jsx)("div",{children:"Sie erhalten eine Mail mit einer \xdcbersicht \xfcber alle Ihre gespeicherten Daten."})]}),Object(a.jsxs)("div",{className:h.a.buttonWrapper,children:[Object(a.jsx)(i.a,{disabled:!0,children:"Alle Daten l\xf6schen"}),Object(a.jsx)(o.a.Text,{type:"danger",children:"Diese Aktion kann nicht r\xfcckg\xe4ngig gemacht werden."}),Object(a.jsx)("div",{children:"Es werden alle Ihre Daten (Reservierungen und Benutzerkonto) endg\xfcltig gel\xf6scht."})]})]})}}}]);
//# sourceMappingURL=16.749b5c62.chunk.js.map