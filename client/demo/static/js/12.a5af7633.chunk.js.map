{"version":3,"sources":["calendar/useTime.js","calendar/DatePicker.js","calendar/ReservationDetails.js","calendar/ReservationGroupModal.module.css","user/LoginForm.js","user/LoginForm.module.css","calendar/DatePicker.module.css","calendar/DateTimeRangeSelect.module.css","calendar/ReservationDetails.module.css","calendar/ScrollRadioGroup.module.css","calendar/RepeatReservationForm.module.css","calendar/ReservationDetailsForm.module.css","user/VerifyMailModal.module.css","calendar/DateTimeRangeSelect.js","calendar/ScrollRadioGroup.js","calendar/DisableReservationGroupModal.js","user/LoginModal.js","calendar/RepeatReservationForm.js","calendar/ReservationTimeSelect.js","calendar/ReservationDetailsForm.js","calendar/ReservationGroupModal.js","user/VerifyMailModal.js","calendar/ReservationModal.js","calendar/SlotCell.module.css","calendar/DayTable.module.css","calendar/HoursTable.module.css","calendar/ReservationCalendar.module.css","calendar/SlotCell.js","calendar/DayTable.js","calendar/HoursTable.js","calendar/ReservationCalendar.js","calendar/WeekPicker.module.css","calendar/CalendarPage.module.css","../node_modules/@ant-design/icons-svg/es/asn/LeftOutlined.js","../node_modules/@ant-design/icons/es/icons/LeftOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/RightOutlined.js","../node_modules/@ant-design/icons/es/icons/RightOutlined.js","calendar/WeekPicker.js","calendar/CalendarPage.js"],"names":["useTime","unit","useState","dayjs","tz","time","setTime","useEffect","interval","setInterval","newTime","isSame","clearInterval","AntDatePicker","generatePicker","dayjsGenerateConfig","DatePicker","props","inputReadOnly","size","panelRender","panel","className","styles","pickerPanel","cn","classNames","bind","ReservationDetails","court","date","inline","name","repeat","wrapper","item","title","content","module","exports","LoginForm","useContext","authContext","autoLoginState","setUser","setRememberLogin","useApi","postLoginApi","loginState","login","loading","valStatus","error","undefined","onFinish","useCallback","mail","password","rememberLogin","type","layout","Item","message","rules","required","validateStatus","autoComplete","prefix","style","color","placeholder","disabled","Password","valuePropName","noStyle","forgotLink","to","htmlType","loginButton","text","registerItem","DateTimeRangeSelect","from","onFromChange","onToChange","hours","useMemo","Array","keys","updateTimes","newFrom","newTo","isAfter","tmp","add","handleFromDateChange","newFromDate","hour","handleToDateChange","newToDate","handleFromHourChange","newFromHour","handleToHourChange","newToHour","allowClear","bordered","datePicker","format","onChange","showToday","suffixIcon","DownOutlined","value","map","Option","ScrollRadioGroup","children","rest","innerRef","useRef","leftScroll","setLeftScroll","rightScroll","setRightScroll","updateStops","current","scrollLeft","scrollWidth","offsetWidth","handleClick","e","offsetLeft","target","parentNode","requestAnimationFrame","Math","max","outer","inner","onClick","onScroll","ref","Group","buttonStyle","DisableReservationGroupModal","initialFrom","initialCourtId","reservation","setOuterReservations","setReservations","appContext","visibleHours","config","courts","reason","setReason","startOf","setFrom","setTo","courtId","setCourtId","prevErrorRef","postReservationGroupApi","postState","postReservationGroup","patchReservationGroupApi","patchState","patchReservationGroup","changed","unavailableReservations","uaRes","handleChangeReason","handleCourtIdChange","handleDisableCourt","checkDate","isSameOrAfter","Modal","icon","width","centered","confirm","okText","okType","onOk","path","groupId","reservations","success","RESERVATION_TYPES","DISABLE","handleRemoveDisable","post","patch","getCourtName","visible","onCancel","footer","ErrorResult","StatusText","Button","label","changeReasonHint","LoginModal","onClose","defaultRepeatValuesMap","1","7","14","RepeatReservationForm","currentReservations","defaultAddCount","repeatValuesMap","user","reservationDaysInAdvance","now","repeatValue","setRepeatValue","visibleDates","setVisibleDates","selectedDates","_setSelectedDates","prevValRef","dateToReservation","checkIfTooFarAhead","admin","checkIfNotAvailable","r1","some","r2","setSelectedDates","_selectedDates","dates","filter","d","s","reset","length","r","sort","a","b","valueOf","Number","MAX_SAFE_INTEGER","i","diff","min","abs","toString","allowedValues","Object","includes","first","last","count","push","addDate","handleRepeatValueChange","newRepeatValue","handleCheckedChange","checked","newSelection","reserved","cr","sd","change","past","isBefore","notAvailable","tooFarAhead","dateButton","unchecked","danger","LockOutlined","DeleteOutlined","PlusOutlined","extra","buttons","ReservationTimeSelect","visibleHoursToHoursArray","toHours","reduce","h","handleFromChange","handleToChange","direction","ReservationDetailsForm","onCourtIdChange","onReservationsChange","onTextChange","readOnly","editName","setEditName","handleEditName","handleCancelEditName","handleDateChange","handleTextChange","plain","nameInput","EditOutlined","ReservationGroupModal","initialTo","reservationTos","templates","changeReason","setChangeReason","setText","groupReservations","setGroupReservations","getReservationsApi","state","getGroupReservations","adminEdit","userId","canEdit","newReservations","gr","cancelReservations","changeText","query","handleChangeChangeReason","handlePostReservation","dangerouslySetInnerHTML","__html","body","NORMAL","handleChangeReservation","ExclamationCircleOutlined","heading","cancelText","handleCancelReservation","cancelType","doDelete","reqParams","cancelRadioGroup","defaultValue","Ball","spin","large","TextArea","autoSize","VerifyMailModal","history","useHistory","handleChangeMailClick","handleResendMail","status","ReservationModal","verified","SlotCell","alwaysClickable","baseRowSpan","courtName","rowIndex","rows","rowSpan","maxRowSpan","span","cell","enabled","padding","slot","mine","height","CELL_PADDING_PX","data-free-text","data-free-text-hover","singleLine","DayTable","onDisableCourtClick","onSlotClick","disableOverlay","setDisableOverlay","isToday","reservableAsOf","subtract","showInfoOverlay","visibleHoursToLocalizedHourRange","handleDisableOverlayClick","today","cols","col","blur","findReservation","adminAction","handleDisableCourtClick","infoOverlay","linkButton","HoursTable","highlightHour","highlight","ReservationCalendar","kiosk","selectedDate","selectedSlot","setSelectedSlot","scrollerRef","getReservations","updateReservations","start","toISOString","end","endOf","useUpdateEffect","UPDATE_INTERVALS_SEC","RESERVATIONS","_","index","handleSlotClicked","handleDisableCourtClicked","handleReservationFinish","tableWrapper","tableScroller","LeftOutlined","React","AntdIcon","assign","LeftOutlinedSvg","displayName","RightOutlined","RightOutlinedSvg","WeekPicker","open","setOpen","handlePreviousButtonClick","handleNextButtonClick","handleThisWeekButtonClick","handleChange","handleOpenChange","newOpen","middlePicker","picker","onOpenChange","renderExtraFooter","outerThisWeekButton","leftButton","rightButton","CalendarPage","setSelectedDate","handleWeekChange"],"mappings":"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","file":"static/js/12.a5af7633.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\n\nimport dayjs from 'dayjs';\n\nconst checkIntervalMs = 60000; // minute\n\nexport function useTime(unit) {\n    const [time, setTime] = useState(() => dayjs.tz());\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            const newTime = dayjs.tz();\n            if (!time.isSame(newTime, unit))\n                setTime(newTime);\n        }, checkIntervalMs);\n\n        return () => clearInterval(interval);\n    }, [time, unit]);\n\n    return time;\n}","import dayjsGenerateConfig from 'rc-picker/lib/generate/dayjs';\nimport generatePicker from 'antd/es/date-picker/generatePicker';\nimport styles from './DatePicker.module.css';\n\nconst AntDatePicker = generatePicker(dayjsGenerateConfig);\n\nexport function DatePicker(props) {\n    return (\n        <AntDatePicker\n            inputReadOnly\n            size=\"large\"\n            panelRender={panel => \n                <div className={styles.pickerPanel}>\n                    {panel}\n                </div>\n            }\n            {...props}\n        />\n    );\n}","import { CalendarOutlined, ClockCircleOutlined, EnvironmentOutlined, RedoOutlined, UserOutlined } from '@ant-design/icons';\n\nimport React from 'react';\nimport classNames from 'classnames/bind';\nimport styles from './ReservationDetails.module.css';\n\nconst cn = classNames.bind(styles);\n\nexport function ReservationDetails({\n    court,\n    date,\n    inline = false,\n    name,\n    repeat,\n    time,\n}) {\n    return (\n        <div className={cn({\n            wrapper: true,\n            inline\n        })}>\n            {name &&\n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <UserOutlined />&nbsp;Name\n                    </div>\n                    <div className={styles.content}>\n                        {name}\n                    </div>\n                </div>\n            }\n\n            {date && \n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <CalendarOutlined />&nbsp;Datum\n                    </div>\n                    <div className={styles.content}>\n                        {date}\n                    </div>\n                </div>\n            }\n\n            {time &&\n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <ClockCircleOutlined />&nbsp;Uhrzeit\n                    </div>\n                    <div className={styles.content}>\n                        {time}\n                    </div>\n                </div>\n            }\n\n            {court &&\n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <EnvironmentOutlined />&nbsp;Platz\n                    </div>\n                    <div className={styles.content}>\n                        {court}\n                    </div>\n                </div>\n            }\n\n            {repeat &&\n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <RedoOutlined />&nbsp;Wiederholung\n                    </div>\n                    <div className={styles.content}>\n                        {repeat}\n                    </div>\n                </div>\n            }\n        </ div>\n    );\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ReservationGroupModal_wrapper__2fAcz\",\"footer\":\"ReservationGroupModal_footer__1O-So\",\"heading\":\"ReservationGroupModal_heading__3HVFg\",\"changeReasonHint\":\"ReservationGroupModal_changeReasonHint__IWCAI\",\"cancelRadioGroup\":\"ReservationGroupModal_cancelRadioGroup__joJ8_\"};","import { Alert, Button, Checkbox, Form, Input } from 'antd';\nimport { LockOutlined, MailOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext } from 'react';\n\nimport { Link } from 'react-router-dom';\nimport { StatusText } from '../admin/StatusText';\nimport { authContext } from '../AuthContext';\nimport { postLoginApi } from '../api';\nimport styles from './LoginForm.module.css';\nimport { useApi } from '../useApi';\n\nexport function LoginForm() {\n\n    const { autoLoginState, setUser, setRememberLogin } = useContext(authContext);\n    const [loginState, login] = useApi(postLoginApi, setUser);\n\n    const loading = loginState.loading || autoLoginState.loading;\n    const valStatus = loginState.error ? 'error' : undefined;\n\n    const onFinish = useCallback(({ mail, password, rememberLogin }) => {\n        setRememberLogin(rememberLogin);\n        login(null, {\n            type: 'plain',\n            mail,\n            password,\n        });\n    }, [login, setRememberLogin]);\n\n    return (\n        <Form\n            layout=\"vertical\"\n            onFinish={onFinish}\n        >\n            {loginState.error &&\n                <Form.Item>\n                    <Alert\n                        type=\"error\"\n                        message=\"Login fehlgeschlagen.\"\n                    />\n                </Form.Item>\n            }\n\n            <Form.Item\n                name=\"mail\"\n                rules={[{ required: true, message: 'E-Mail Adresse ist erforderlich' }]}\n                validateStatus={valStatus}\n            >\n                <Input\n                    autoComplete=\"email\"\n                    prefix={<MailOutlined style={{ color: '#aaa' }} />}\n                    placeholder=\"E-Mail\"\n                    disabled={loading}\n                />\n            </Form.Item>\n\n            <Form.Item\n                name=\"password\"\n                rules={[{ required: true, message: 'Passwort ist erforderlich' }]}\n                validateStatus={valStatus}\n            >\n                <Input.Password\n                    autoComplete=\"current-password\"\n                    prefix={<LockOutlined style={{ color: '#aaa' }} />}\n                    placeholder=\"Passwort\"\n                    disabled={loading}\n                />\n            </Form.Item>\n\n            <Form.Item>\n                <Form.Item name=\"rememberLogin\" valuePropName=\"checked\" noStyle>\n                    <Checkbox\n                        disabled={loading}\n                    >\n                        Angemeldet bleiben\n                    </Checkbox>\n                </Form.Item>\n\n                {/* TODO */}\n                <Link className={styles.forgotLink} to=\"/reset-password\">\n                    Password vergessen\n                </Link>\n            </Form.Item>\n\n            <Form.Item>\n                <Button\n                    type=\"primary\"\n                    htmlType=\"submit\"\n                    className={styles.loginButton}\n                    disabled={loading}\n                >\n                    <StatusText\n                        loading={loading}\n                        text={loading ? 'Anmeldung...' : 'Anmelden'}\n                    />\n                </Button>\n            </Form.Item>\n\n\n            <Form.Item className={styles.registerItem}>\n                <span>oder </span>\n                <Link to=\"/register\">Kostenlos Registrieren</Link>\n            </Form.Item>\n        </Form>\n    );\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginButton\":\"LoginForm_loginButton__ECun6\",\"forgotLink\":\"LoginForm_forgotLink__3TG3V\",\"registerItem\":\"LoginForm_registerItem__32Qy-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pickerPanel\":\"DatePicker_pickerPanel__jgKnn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"datePicker\":\"DateTimeRangeSelect_datePicker__1Fzuj\",\"to\":\"DateTimeRangeSelect_to__3kFPy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inline\":\"ReservationDetails_inline__3Zvud\",\"wrapper\":\"ReservationDetails_wrapper__3oaB0\",\"item\":\"ReservationDetails_item__3c9da\",\"title\":\"ReservationDetails_title__30qxj\",\"content\":\"ReservationDetails_content__3o1oW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"outer\":\"ScrollRadioGroup_outer__2bjrJ\",\"inner\":\"ScrollRadioGroup_inner__1IIQl\",\"leftScroll\":\"ScrollRadioGroup_leftScroll__sR-on\",\"rightScroll\":\"ScrollRadioGroup_rightScroll__2FgOg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"RepeatReservationForm_wrapper__q6uz0\",\"dates\":\"RepeatReservationForm_dates__1dD0l\",\"extra\":\"RepeatReservationForm_extra__2m-4n\",\"unchecked\":\"RepeatReservationForm_unchecked__dAyq1\",\"date\":\"RepeatReservationForm_date__3wvGK\",\"dateButton\":\"RepeatReservationForm_dateButton__2XPFl\",\"danger\":\"RepeatReservationForm_danger__3-oIh\",\"buttons\":\"RepeatReservationForm_buttons__IeXBV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nameInput\":\"ReservationDetailsForm_nameInput__20wfd\",\"plain\":\"ReservationDetailsForm_plain__VkUtA\",\"datePicker\":\"ReservationDetailsForm_datePicker__jvGx4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttons\":\"VerifyMailModal_buttons__2ZzQz\"};","import React, { useCallback, useMemo } from 'react';\n\nimport { DatePicker } from './DatePicker';\nimport { DownOutlined } from '@ant-design/icons';\nimport { Select } from 'antd';\nimport styles from './DateTimeRangeSelect.module.css';\n\nexport function DateTimeRangeSelect({\n    disabled = false,\n    from,\n    to,\n    onFromChange,\n    onToChange,\n}) {\n    const hours = useMemo(() => [...Array(24).keys()], []);\n\n    const updateTimes = useCallback(({ newFrom = from, newTo = to }) => {\n        if (newFrom.isAfter(newTo)) {\n            const tmp = newFrom;\n            newFrom = newTo;\n            newTo = tmp;\n        } else if (newFrom.isSame(newTo)) {\n            newTo = newFrom.add(1, 'hour'); // minimal diff 1 hour\n        }\n\n        if (!newFrom.isSame(from))\n            onFromChange(newFrom);\n        if (!newTo.isSame(to))\n            onToChange(newTo);\n    }, [from, onFromChange, onToChange, to]);\n\n    const handleFromDateChange = useCallback(newFromDate => {\n        updateTimes({\n            newFrom: newFromDate.hour(from.hour())\n        });\n    }, [from, updateTimes]);\n\n    const handleToDateChange = useCallback(newToDate => {\n        updateTimes({\n            newTo: newToDate.hour(to.hour())\n        });\n    }, [to, updateTimes]);\n\n    const handleFromHourChange = useCallback(newFromHour => {\n        updateTimes({\n            newFrom: from.hour(newFromHour)\n        });\n    }, [from, updateTimes]);\n\n    const handleToHourChange = useCallback(newToHour => {\n        updateTimes({\n            newTo: to.hour(newToHour)\n        });\n    }, [to, updateTimes]);\n\n    return (\n        <div>\n            <div>\n                <DatePicker\n                    allowClear={false}\n                    bordered={false}\n                    className={styles.datePicker}\n                    disabled={disabled}\n                    format=\"L\"\n                    onChange={handleFromDateChange}\n                    showToday={false}\n                    suffixIcon={<DownOutlined />}\n                    value={from}\n                />\n\n                <Select\n                    size=\"large\"\n                    bordered={false}\n                    value={from.hour()}\n                    onChange={handleFromHourChange}\n                >\n                    {hours.map(hour => (\n                        <Select.Option\n                            key={hour}\n                            value={hour}\n                        >\n                            {hour} Uhr\n                        </Select.Option>\n                    ))}\n                </Select>\n\n            </div>\n\n            <div>\n                <span className={styles.to}>bis</span>\n\n                <DatePicker\n                    allowClear={false}\n                    bordered={false}\n                    className={styles.datePicker}\n                    disabled={disabled}\n                    format=\"L\"\n                    onChange={handleToDateChange}\n                    showToday={false}\n                    suffixIcon={<DownOutlined />}\n                    value={to}\n                />\n\n                <Select\n                    size=\"large\"\n                    bordered={false}\n                    value={to.hour()}\n                    onChange={handleToHourChange}\n                >\n                    {hours.map(hour => (\n                        <Select.Option\n                            key={hour}\n                            value={hour}\n                        >\n                            {hour % 24} Uhr\n                        </Select.Option>\n                    ))}\n                </Select>\n            </div>\n        </div>\n    );\n}","import React, { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { Radio } from 'antd';\nimport classNames from 'classnames/bind';\nimport styles from './ScrollRadioGroup.module.css';\n\nconst cn = classNames.bind(styles);\n\nconst SCROLL_OFFSET_PX = -50;\nconst SCROLL_TRESHOLD_PX = 5; // needed for iOS overscoll\n\nexport function ScrollRadioGroup({\n    children,\n    ...rest\n}) {\n    const innerRef = useRef();\n    const [leftScroll, setLeftScroll] = useState(false);\n    const [rightScroll, setRightScroll] = useState(false);\n\n    const updateStops = useCallback(() => {\n        if (!innerRef.current)\n            return;\n        const { scrollLeft, scrollWidth, offsetWidth } = innerRef.current;\n        setLeftScroll(scrollLeft > SCROLL_TRESHOLD_PX);\n        setRightScroll((scrollWidth - offsetWidth - scrollLeft) > SCROLL_TRESHOLD_PX);\n    }, []);\n\n    useEffect(updateStops, [updateStops]);\n\n    const handleClick = useCallback(e => {\n        if (!innerRef.current)\n            return;\n        const offsetLeft = e?.target?.parentNode?.parentNode?.offsetLeft || 0;\n        requestAnimationFrame(() => {\n            innerRef.current.scrollLeft = Math.max(offsetLeft + SCROLL_OFFSET_PX, 0);\n        });\n    }, []);\n\n    return (\n        <div className={cn({\n            outer: true,\n            leftScroll,\n            rightScroll,\n        })}>\n            <div\n                className={styles.inner}\n                onClick={handleClick}\n                onScroll={updateStops}\n                ref={innerRef}\n            >\n                <Radio.Group\n                    buttonStyle=\"solid\"\n                    size=\"large\"\n                    {...rest}\n                >\n                    {children}\n                </Radio.Group>\n            </div>\n        </div>\n    );\n}","import { Button, Form, Input, Modal, Radio, message } from 'antd';\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { patchReservationGroupApi, postReservationGroupApi } from '../api';\n\nimport { DateTimeRangeSelect } from './DateTimeRangeSelect';\nimport { ErrorResult } from '../ErrorResult';\nimport { RESERVATION_TYPES } from '../ReservationTypes';\nimport { ReservationDetails } from './ReservationDetails';\nimport { ScrollRadioGroup } from './ScrollRadioGroup';\nimport { StatusText } from '../admin/StatusText';\nimport { appContext } from '../AppContext';\nimport dayjs from 'dayjs';\nimport { getCourtName } from '../helper';\nimport styles from './ReservationGroupModal.module.css';\nimport { useApi } from '../useApi';\n\nexport function DisableReservationGroupModal({\n    initialFrom,\n    initialCourtId,\n    reservation,\n    onFinish,\n    setReservations: setOuterReservations,\n}) {\n    const { config: { visibleHours }, courts } = useContext(appContext);\n\n    const [reason, setReason] = useState(reservation?.text || '');\n    const [from, setFrom] = useState(() => reservation?.from || initialFrom.startOf('day'));\n    const [to, setTo] = useState(() => reservation?.to || initialFrom.add(1, 'day').startOf('day'));\n    const [courtId, setCourtId] = useState(reservation?.courtId || initialCourtId);\n    const prevErrorRef = useRef({});\n\n    const [postState, postReservationGroup] = useApi(postReservationGroupApi, setOuterReservations);\n    const [patchState, patchReservationGroup] = useApi(patchReservationGroupApi, setOuterReservations);\n\n    const loading = postState.loading || patchState.loading;\n    const changed = reservation && (\n        reservation.from !== from\n        || reservation.to !== to\n        || reservation.text !== reason\n        || reservation.courtId !== courtId\n    );\n\n    const unavailableReservations = useMemo(() => {\n        let uaRes = postState.error?.unavailableReservations || patchState.error?.unavailableReservations;\n        if (uaRes)\n            uaRes = uaRes.map(({ courtId, from, to }) => ({\n                courtId,\n                from: dayjs(from),\n                to: dayjs(to),\n            }));\n        return uaRes;\n    }, [patchState.error?.unavailableReservations, postState.error?.unavailableReservations]);\n\n    const handleChangeReason = useCallback(e => {\n        setReason(e.target.value);\n    }, []);\n\n    const handleCourtIdChange = useCallback(e => {\n        setCourtId(e.target.value);\n    }, []);\n\n    const handleDisableCourt = useCallback(() => {\n        const doDisable = () => {\n            if (!reservation) {\n                postReservationGroup(null, {\n                    reservations: [{ courtId, from, to }],\n                    text: reason,\n                    type: RESERVATION_TYPES.DISABLE,\n                }, () => {\n                    message.success(\"Sperren erfolgreich\");\n                    onFinish();\n                });\n            } else {\n                patchReservationGroup({\n                    path: {\n                        groupId: reservation.groupId\n                    }\n                }, {\n                    reservations: [{ courtId, from, to }],\n                    text: reason,\n                }, () => {\n                    message.success(\"Sperren erfolgreich\");\n                    onFinish();\n                });\n            }\n        };\n\n        let checkDate;\n        if (from.hour() <= visibleHours[0])\n            checkDate = from.hour(visibleHours[0]);\n        else if (from.hour() >= visibleHours[1])\n            checkDate = from.add(1, 'day').hour(visibleHours[0]);\n\n        if (checkDate?.isSameOrAfter(to, 'hour')) {\n            Modal.error({\n                icon: false,\n                title: 'Sperrung unzulässig',\n                width: 530,\n                centered: true,\n                content: 'Die Sperrung liegt außerhalb des angezeigten Zeitraums.',\n            });\n        } else {\n            Modal.confirm({\n                icon: false,\n                title: 'Wirklich sperren?',\n                okText: 'Sperren',\n                okType: 'danger',\n                width: 530,\n                centered: true,\n                content: 'Bestehende Reservierungen, die mit der Sperrung in Konflikt stehen, werden automatisch storniert. Die Inhaber der Reservierungen werden darüber per E-Mail informiert.',\n                onOk: doDisable,\n            });\n        }\n    }, [courtId, from, onFinish, patchReservationGroup, postReservationGroup, reason, reservation, to, visibleHours]);\n\n    const handleRemoveDisable = useCallback(() => {\n        patchReservationGroup({\n            path: {\n                groupId: reservation.groupId\n            }\n        }, {\n            reservations: [],\n        }, () => {\n            message.success(\"Sperrung aufgehoben\");\n            onFinish();\n        });\n    }, [onFinish, patchReservationGroup, reservation?.groupId]);\n\n    useEffect(() => {\n        if (prevErrorRef.current.post === postState.error\n            && prevErrorRef.current.patch === patchState.error)\n            return;\n        prevErrorRef.current.post = postState.error;\n        prevErrorRef.current.patch = patchState.error;\n\n        if (unavailableReservations) {\n            Modal.error({\n                centered: true,\n                title: 'Sperren fehlgeschlagen',\n                content: (\n                    <div>\n                        <div>\n                            Für folgende Zeiträume liegt bereits eine Sperrung vor:\n                        </div>\n                        <ul>\n                            {unavailableReservations.map(({ courtId, from, to }) => (\n                                <li key={from}>{from.format('dd[\\xa0]L,[\\xa0]H[\\xa0][Uhr]')} bis {to.format('dd[\\xa0]L,[\\xa0]H[\\xa0][Uhr]')}, {getCourtName(courts, courtId)}</li>\n                            ))}\n                        </ul>\n                    </div>\n                )\n            });\n        }\n    }, [courts, patchState.error, postState.error, unavailableReservations])\n\n    if (\n        (postState.error && !postState.error.unavailableReservations)\n        || (patchState.error && !patchState.error.unavailableReservations)\n    ) {\n        return (\n            <Modal\n                title=\"Sperren fehlgeschlagen\"\n                visible={true}\n                centered\n                onCancel={onFinish}\n                onOk={onFinish}\n                footer={\n                    <div className={styles.footer}>\n                        <Button onClick={onFinish}>\n                            Abbrechen\n                        </Button>\n                    </div>\n                }\n            >\n                <div className={styles.wrapper}>\n                    <ErrorResult />\n                </div>\n            </Modal>\n        );\n    }\n\n    return (\n        <Modal\n            title=\"Platz Sperren\"\n            visible={true}\n            width={530}\n            centered\n            onCancel={onFinish}\n            onOk={onFinish}\n            footer={loading ?\n                (\n                    <StatusText\n                        loading\n                        text=\"Bitte warten...\"\n                    />\n                ) : (\n                    <div className={styles.footer}>\n                        <Button onClick={onFinish}>\n                            Abbrechen\n                        </Button>\n                        {reservation &&\n                            <Button\n                                type=\"primary\"\n                                onClick={handleRemoveDisable}\n                            >\n                                Sperrung Aufheben\n                            </Button>\n                        }\n                        <Button\n                            disabled={reservation && !changed}\n                            type=\"danger\"\n                            onClick={handleDisableCourt}\n                        >\n                            Sperren\n                        </Button>\n                    </div>\n                )\n            }\n        >\n            <div className={styles.wrapper}>\n                <ReservationDetails\n                    court={\n                        <ScrollRadioGroup\n                            disabled={loading}\n                            onChange={handleCourtIdChange}\n                            value={courtId}\n                        >\n                            {courts.map(({ courtId, name }) => (\n                                <Radio.Button key={courtId} value={courtId}>{name}</Radio.Button>\n                            ))}\n                        </ScrollRadioGroup>\n                    }\n                    date={\n                        <DateTimeRangeSelect\n                            disabled={loading}\n                            from={from}\n                            to={to}\n                            onFromChange={setFrom}\n                            onToChange={setTo}\n                        />\n                    }\n                />\n\n                <Form layout=\"vertical\">\n                    <Form.Item\n                        label=\"Grund der Sperrung\"\n                    >\n                        <Input\n                            disabled={loading}\n                            onChange={handleChangeReason}\n                            placeholder=\"Kein Grund\"\n                            value={reason}\n                        />\n                        <div className={styles.changeReasonHint}>\n                            Bestehende Reservierungen werden storniert.\n                        </div>\n                    </Form.Item>\n                </Form>\n            </div>\n        </Modal>\n    );\n}","import { LoginForm } from './LoginForm';\nimport { Modal } from 'antd';\nimport React from 'react';\n\nexport function LoginModal({\n    onClose\n}) {\n    return (\n        <Modal\n            title=\"Anmeldung erforderlich\"\n            visible={true}\n            width={400}\n            centered\n            onCancel={onClose}\n            onOk={onClose}\n            footer={null}\n        >\n            <LoginForm />\n        </Modal>\n    );\n}","import { Button, Radio } from 'antd';\nimport { DeleteOutlined, LockOutlined, PlusOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\n\nimport { ScrollRadioGroup } from './ScrollRadioGroup';\nimport { appContext } from '../AppContext';\nimport { authContext } from '../AuthContext';\nimport classNames from 'classnames/bind';\nimport styles from './RepeatReservationForm.module.css';\nimport { useTime } from './useTime';\n\nconst cn = classNames.bind(styles);\n\nconst defaultRepeatValuesMap = {\n    1: 'Täglich',\n    7: 'Wöchentlich',\n    14: '2-Wöchentlich',\n};\n\nexport function RepeatReservationForm({\n    courtId,\n    currentReservations,\n    defaultAddCount = 2,\n    disabled = false,\n    from,\n    onChange,\n    repeatValuesMap = defaultRepeatValuesMap,\n    to,\n    unavailableReservations,\n}) {\n    const { user } = useContext(authContext);\n    const { config: { reservationDaysInAdvance } } = useContext(appContext);\n\n    const now = useTime('hour');\n\n    const [repeatValue, setRepeatValue] = useState(0);\n    const [visibleDates, setVisibleDates] = useState([]);\n    const [selectedDates, _setSelectedDates] = useState([]);\n    const prevValRef = useRef({});\n\n    const dateToReservation = useCallback(from => ({\n        courtId,\n        from,\n        to: from.hour(to.hour() || 24),\n    }), [courtId, to]);\n\n    const checkIfTooFarAhead = useCallback(date => (\n        !user?.admin && date.isAfter(now.add(reservationDaysInAdvance, 'day'), 'day')\n    ), [now, reservationDaysInAdvance, user?.admin]);\n\n    const checkIfNotAvailable = useCallback(date => {\n        if (!unavailableReservations)\n            return false;\n        const r1 = dateToReservation(date);\n        return unavailableReservations.some(r2 => (\n            r1.courtId === r2.courtId\n            && r1.from.isSame(r2.from, 'hour')\n            && r1.to.isSame(r2.to, 'hour')\n        ));\n    }, [unavailableReservations, dateToReservation]);\n\n    const setSelectedDates = useCallback(selectedDates => {\n        _setSelectedDates(_selectedDates => {\n            let dates = selectedDates;\n            if (typeof selectedDates === 'function')\n                dates = selectedDates(_selectedDates);\n            return dates.filter(d => !checkIfNotAvailable(d) && !checkIfTooFarAhead(d));\n        });\n    }, [checkIfNotAvailable, checkIfTooFarAhead]);\n\n    useEffect(() => {\n        onChange(selectedDates.map(dateToReservation));\n    }, [selectedDates, onChange, dateToReservation]);\n\n    // automatically unchecks unavailable dates if unavailableDates changes\n    // or time/config changes\n    useEffect(() => setSelectedDates(s => s), [setSelectedDates]);\n\n    const reset = useCallback(() => {\n        let selectedDates = [];\n        let visibleDates = [];\n\n        if (currentReservations?.length > 1) {\n            selectedDates = currentReservations.map(r => r.from.hour(from.hour()));\n            selectedDates.sort((a, b) => a.valueOf() - b.valueOf());\n            let repeatValue = Number.MAX_SAFE_INTEGER;\n\n            if (selectedDates.length > 1) {\n                for (let i = 1; i < selectedDates.length; ++i) {\n                    const diff = selectedDates[i - 1].diff(selectedDates[i], 'day');\n                    repeatValue = Math.min(repeatValue, Math.abs(diff));\n                }\n            }\n\n            repeatValue = repeatValue.toString();\n            const allowedValues = Object.keys(repeatValuesMap);\n            if (!allowedValues.includes(repeatValue))\n                repeatValue = allowedValues[0];\n            setRepeatValue(repeatValue);\n\n            const first = selectedDates[0];\n            const last = selectedDates[selectedDates.length - 1];\n            const count = Math.abs(first.diff(last, 'day') / repeatValue);\n            visibleDates = [];\n            for (let i = 0; i <= count; ++i)\n                visibleDates.push(first.add(i * repeatValue, 'day'));\n        } else if (repeatValue > 0) {\n            for (let i = 0; i <= defaultAddCount; ++i) {\n                const date = from.add(i * repeatValue, 'day');\n                visibleDates.push(date);\n                selectedDates.push(date);\n            }\n        } else {\n            selectedDates = [from];\n            visibleDates = [from];\n        }\n\n        setVisibleDates(visibleDates);\n        setSelectedDates(selectedDates);\n    }, [currentReservations, defaultAddCount, from, repeatValue, repeatValuesMap, setSelectedDates]);\n\n    useEffect(() => {\n        if (\n            prevValRef.current.courtId !== courtId\n            || prevValRef.current.currentReservations !== currentReservations\n            || prevValRef.current.from !== from\n            || prevValRef.current.repeatValue !== repeatValue\n            || prevValRef.current.to !== to\n        ) {\n            prevValRef.current.courtId = courtId;\n            prevValRef.current.currentReservations = currentReservations;\n            prevValRef.current.from = from;\n            prevValRef.current.repeatValue = repeatValue;\n            prevValRef.current.to = to;\n            reset();\n        }\n    }, [courtId, currentReservations, from, repeatValue, reset, to]);\n\n    const addDate = useCallback(() => {\n        setVisibleDates(visibleDates => {\n            const last = visibleDates[visibleDates.length - 1];\n            const add = last.add(repeatValue, 'day');\n            setSelectedDates(selectedDates => [...selectedDates, add]);\n            return [...visibleDates, add];\n        });\n    }, [repeatValue, setSelectedDates]);\n\n    const handleRepeatValueChange = useCallback(e => {\n        const newRepeatValue = e.target.value;\n        setRepeatValue(newRepeatValue);\n    }, []);\n\n    const handleCheckedChange = useCallback((date, checked) => {\n        setSelectedDates(selectedDates => {\n            // change checked state\n            const newSelection = selectedDates.filter(d => !d.isSame(date, 'day'));\n            if (checked)\n                newSelection.push(date);\n            newSelection.sort((a, b) => a.valueOf() - b.valueOf());\n\n            // remove unchecked visible dates at end\n            // setVisibleDates(visibleDates => {\n            //     const newVisibleDates = [...visibleDates];\n            //     // i > 0: make sure at least one item is visible\n            //     for (let i = newVisibleDates.length - 1; i > 0; --i) {\n            //         if (\n            //             currentReservations?.some(r => r.from.isSame(newVisibleDates[i], 'day'))\n            //             || newSelection.some(d => d.isSame(newVisibleDates[i], 'day'))\n            //         ) {\n            //             break;\n            //         }\n            //         newVisibleDates.pop();\n            //     }\n            //     return newVisibleDates;\n            // });\n\n            return newSelection;\n        });\n    }, [setSelectedDates]);\n\n    const dates = useMemo(() => {\n        return visibleDates.map(d => {\n            const r = dateToReservation(d);\n            const reserved = currentReservations?.some(cr =>\n                cr.from.isSame(r.from, 'hour') && cr.to.isSame(r.to, 'hour'));\n            const checked = selectedDates.some(sd => sd.isSame(d, 'day'));\n            return {\n                date: d,\n                checked,\n                change: !reserved && currentReservations?.some(r => r.from.isSame(d, 'day')),\n                reserved,\n                past: d.isBefore(now, 'hour'),\n                notAvailable: checkIfNotAvailable(d),\n                tooFarAhead: checkIfTooFarAhead(d),\n                onClick: () => handleCheckedChange(d, !checked),\n            };\n        });\n    }, [\n        checkIfNotAvailable,\n        checkIfTooFarAhead,\n        currentReservations,\n        dateToReservation,\n        handleCheckedChange,\n        now,\n        selectedDates,\n        visibleDates,\n    ]);\n\n\n    return (\n        <div className={styles.wrapper}>\n            <div>\n                <ScrollRadioGroup\n                    disabled={currentReservations?.length > 1 || disabled}\n                    onChange={handleRepeatValueChange}\n                    value={repeatValue}\n                >\n                    <Radio.Button key={0} value={0}>Einzeltermin</Radio.Button>\n                    {Object.keys(repeatValuesMap).map(value => (\n                        <Radio.Button key={value} value={value}>{repeatValuesMap[value]}</Radio.Button>\n                    ))}\n                </ScrollRadioGroup>\n            </div>\n\n            {repeatValue > 0 &&\n                <>\n                    <div className={styles.dates}>\n                        {dates.map(({ date, checked, change, reserved, past, notAvailable, tooFarAhead, onClick }) => (\n                            <Button\n                                key={date}\n                                className={cn({\n                                    dateButton: true,\n                                    unchecked: !checked,\n                                    danger: (reserved && !checked) || notAvailable,\n                                })}\n                                disabled={(!user?.admin && (past || tooFarAhead)) || notAvailable || disabled}\n                                onClick={onClick}\n                                type=\"link\"\n                                icon={\n                                    ((!user?.admin && (past || tooFarAhead)) || notAvailable || disabled)\n                                        ? <LockOutlined />\n                                        : checked ? <DeleteOutlined /> : <PlusOutlined />\n                                }\n                            >\n                                <span className={styles.date}>{date.format('dd[\\xa0]L')}</span>\n                                {!past && reserved && checked && <span className={styles.extra}>Aktuell reserviert</span>}\n                                {!past && reserved && !checked && <span className={styles.extra}>Wird storniert</span>}\n                                {!notAvailable && past && <span className={styles.extra}>Bereits vergangen</span>}\n                                {!notAvailable && tooFarAhead && <span className={styles.extra}>Zu weit in der Zukunft</span>}\n                                {!notAvailable && change && <span className={styles.extra}>Wird geändert</span>}\n                                {notAvailable && <span className={styles.extra}>Nicht verfügbar</span>}\n                            </Button>\n                        ))}\n                    </div>\n                    <div className={styles.buttons}>\n                        <Button\n                            disabled={disabled}\n                            icon={<PlusOutlined />}\n                            onClick={addDate}\n                            type=\"dashed\"\n                        />\n                    </div>\n                </>\n            }\n        </div>\n    );\n}","import React, { useCallback, useContext, useEffect, useMemo } from 'react';\nimport { Select, Space } from 'antd';\n\nimport { appContext } from '../AppContext';\nimport { visibleHoursToHoursArray } from '../helper';\n\nexport function ReservationTimeSelect({\n    disabled = false,\n    from,\n    to, // don't use to.hour() to set new hour, as it can be bubbled to the next day\n    onFromChange,\n    onToChange,\n}) {\n    const { config: { visibleHours } } = useContext(appContext);\n\n    const hours = useMemo(() => visibleHoursToHoursArray(visibleHours), [visibleHours]);\n\n    const toHours = useMemo(() => hours.reduce((toHours, h) => {\n        if (h >= from.hour())\n            toHours.push(h + 1);\n        return toHours;\n    }, []), [from, hours]);\n\n    useEffect(() => {\n        if (from.isSame(to, 'hour'))\n            onToChange(from.add(1, 'hour'));\n    }, [from, to, onToChange]);\n\n    const handleFromChange = useCallback(newFromHour => {\n        const diff = Math.abs(to.diff(from, 'hour'));\n        let newToHour = newFromHour + diff;\n        if (!hours.includes(newToHour))\n            newToHour = hours[hours.length - 1] + 1;\n        onFromChange(from.hour(newFromHour));\n        onToChange(from.hour(newToHour));\n    }, [from, to, onFromChange, onToChange, hours]);\n\n    const handleToChange = useCallback(newToHour => {\n        onToChange(from.hour(newToHour));\n    }, [from, onToChange]);\n\n    return (\n        <Space direction=\"horizontal\" size=\"middle\">\n            <Select\n                bordered={false}\n                disabled={disabled}\n                onChange={handleFromChange}\n                size=\"large\"\n                value={from.hour()}\n            >\n                {hours.map(hour => (\n                    <Select.Option\n                        key={hour}\n                        value={hour}\n                    >\n                        {hour} Uhr\n                    </Select.Option>\n                ))}\n            </Select>\n\n            <span>bis</span>\n\n            <Select\n                bordered={false}\n                disabled={disabled}\n                onChange={handleToChange}\n                size=\"large\"\n                value={to.hour() === 0 ? 24 : to.hour()}\n            >\n                {toHours.map(hour => (\n                    <Select.Option\n                        key={hour}\n                        value={hour}\n                    >\n                        {hour % 24} Uhr\n                    </Select.Option>\n                ))}\n            </Select>\n        </Space>\n    );\n}","import { Button, Input, Radio } from 'antd';\nimport { DownOutlined, EditOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext, useState } from 'react';\n\nimport { DatePicker } from './DatePicker';\nimport { RepeatReservationForm } from './RepeatReservationForm';\nimport { ReservationDetails } from './ReservationDetails';\nimport { ReservationTimeSelect } from './ReservationTimeSelect';\nimport { ScrollRadioGroup } from './ScrollRadioGroup';\nimport { appContext } from '../AppContext';\nimport { authContext } from '../AuthContext';\nimport { getCourtName } from '../helper';\nimport styles from './ReservationDetailsForm.module.css';\n\nexport function ReservationDetailsForm({\n    courtId,\n    currentReservations,\n    disabled,\n    from,\n    onCourtIdChange,\n    onFromChange,\n    onReservationsChange,\n    onTextChange,\n    onToChange,\n    readOnly,\n    text,\n    to,\n    unavailableReservations,\n}) {\n    const { courts } = useContext(appContext);\n    const { user } = useContext(authContext);\n\n    const [editName, setEditName] = useState(false);\n    const handleEditName = useCallback(() => {\n        setEditName(true);\n    }, []);\n\n    const handleCancelEditName = useCallback(() => {\n        setEditName(false);\n        onTextChange(null);\n    }, [onTextChange]);\n\n    const handleDateChange = useCallback(date => {\n        const diff = Math.abs(to.diff(from, 'hour'));\n        const newFrom = date.hour(from.hour());\n        const newTo = newFrom.add(diff, 'hour');\n        onFromChange(newFrom);\n        onToChange(newTo);\n    }, [from, to, onFromChange, onToChange]);\n\n    const handleTextChange = useCallback(e => {\n        onTextChange(e.target.value);\n    }, [onTextChange]);\n\n    const handleCourtIdChange = useCallback(e => {\n        onCourtIdChange(e.target.value);\n    }, [onCourtIdChange]);\n\n    if (readOnly)\n        return (\n            <ReservationDetails\n                court={\n                    <div className={styles.plain}>\n                        {getCourtName(courts, courtId)}\n                    </div>\n                }\n                date={\n                    <div className={styles.plain}>\n                        {from.format('dd[\\xa0]L')}\n                    </div>\n                }\n                time={\n                    <div className={styles.plain}>\n                        {from.format('H')} Uhr bis {to.format('H')} Uhr\n                    </div>\n                }\n                name={\n                    <div className={styles.plain}>\n                        {currentReservations?.[0]?.text || currentReservations?.[0]?.name || user.name}\n                    </div>\n                }\n            />\n\n        );\n\n    return (\n        <ReservationDetails\n            court={\n                <ScrollRadioGroup\n                    disabled={disabled}\n                    onChange={handleCourtIdChange}\n                    value={courtId}\n                >\n                    {courts.map(({ courtId, name }) => (\n                        <Radio.Button key={courtId} value={courtId}>{name}</Radio.Button>\n                    ))}\n                </ScrollRadioGroup>\n            }\n            date={\n                <DatePicker\n                    allowClear={false}\n                    bordered={false}\n                    className={styles.datePicker}\n                    disabled={currentReservations?.length > 1 || disabled}\n                    format=\"L\"\n                    onChange={handleDateChange}\n                    showToday={false}\n                    suffixIcon={<DownOutlined />}\n                    value={from}\n                />\n            }\n            time={\n                <ReservationTimeSelect\n                    disabled={disabled}\n                    from={from}\n                    to={to}\n                    onFromChange={onFromChange}\n                    onToChange={onToChange}\n                />\n            }\n            name={editName ?\n                (\n                    <>\n                        <Input\n                            className={styles.nameInput}\n                            disabled={disabled}\n                            onChange={handleTextChange}\n                            placeholder=\"z.B. Training, ...\"\n                            value={text}\n                            size=\"large\"\n                        />\n                        <Button\n                            disabled={disabled}\n                            onClick={handleCancelEditName}\n                            type='link'\n                        >\n                            abbrechen\n                        </Button>\n                    </>\n                ) : (\n                    <>\n                        <div className={styles.plain}>\n                            <span>\n                                {currentReservations?.[0]?.text || currentReservations?.[0]?.name || user.name}\n                            </span>\n                        </div>\n                        {user.admin &&\n                            <Button\n                                disabled={disabled}\n                                onClick={handleEditName}\n                                type='link'\n                            >\n                                <EditOutlined /> bearbeiten\n                            </Button>\n                        }\n                    </>\n                )\n            }\n            repeat={\n                <RepeatReservationForm\n                    courtId={courtId}\n                    currentReservations={currentReservations}\n                    disabled={disabled}\n                    from={from}\n                    onChange={onReservationsChange}\n                    to={to}\n                    unavailableReservations={unavailableReservations}\n                />\n            }\n        />\n    );\n}","import { Button, Form, Input, Modal, Radio, message } from 'antd';\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { getReservationsApi, patchReservationGroupApi, postReservationGroupApi } from '../api';\n\nimport { Ball } from '../Ball';\nimport { ErrorResult } from '../ErrorResult';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { RESERVATION_TYPES } from '../ReservationTypes';\nimport { ReservationDetailsForm } from './ReservationDetailsForm';\nimport { StatusText } from '../admin/StatusText';\nimport { appContext } from '../AppContext';\nimport { authContext } from '../AuthContext';\nimport dayjs from 'dayjs';\nimport { getCourtName } from '../helper';\nimport styles from './ReservationGroupModal.module.css';\nimport { useApi } from '../useApi';\n\nexport function ReservationGroupModal({\n    initialCourtId,\n    initialFrom,\n    initialTo,\n    reservation,\n    onFinish,\n    setReservations: setOuterReservations,\n}) {\n    const { courts, templates: { reservationTos } } = useContext(appContext);\n    const { user } = useContext(authContext);\n\n    const [changeReason, setChangeReason] = useState('');\n    const [text, setText] = useState(null);\n    const [reservations, setReservations] = useState(null);\n    const [from, setFrom] = useState(reservation?.from || initialFrom);\n    const [to, setTo] = useState(reservation?.to || initialTo);\n    const [courtId, setCourtId] = useState(reservation?.courtId || initialCourtId);\n    const prevErrorRef = useRef({});\n\n    const [groupReservations, setGroupReservations] = useState([]);\n    const [state, getGroupReservations] = useApi(getReservationsApi, setGroupReservations);\n\n    const [postState, postReservationGroup] = useApi(postReservationGroupApi, setOuterReservations);\n    const [patchState, patchReservationGroup] = useApi(patchReservationGroupApi, setOuterReservations);\n\n    const loading = state.loading || postState.loading || patchState.loading;\n\n    const adminEdit = reservation && user.admin && reservation?.userId !== user.userId;\n    const canEdit = user.admin || !reservation || reservation.userId === user.userId;\n\n    const newReservations = useMemo(() => reservations?.filter(\n        r => !groupReservations.some(gr => gr.from.isSame(r.from, 'hour') && gr.to.isSame(r.to, 'hour'))\n    ), [reservations, groupReservations]);\n    const cancelReservations = useMemo(() => reservations && groupReservations.filter(\n        gr => !reservations.some(r => r.from.isSame(gr.from, 'hour') && r.to.isSame(gr.to, 'hour'))\n    ), [reservations, groupReservations]);\n    const changeText = !!(groupReservations && text);\n\n    const unavailableReservations = useMemo(() => {\n        let uaRes = postState.error?.unavailableReservations || patchState.error?.unavailableReservations;\n        if (uaRes)\n            uaRes = uaRes.map(({ courtId, from, to }) => ({\n                courtId,\n                from: dayjs(from),\n                to: dayjs(to),\n            }));\n        return uaRes;\n    }, [patchState.error?.unavailableReservations, postState.error?.unavailableReservations]);\n\n    useEffect(() => {\n        if (reservation?.groupId)\n            getGroupReservations({ query: { 'group-id': reservation?.groupId } });\n    }, [reservation, getGroupReservations]);\n\n    const handleChangeChangeReason = useCallback(e => {\n        setChangeReason(e.target.value);\n    }, []);\n\n    const handlePostReservation = useCallback(() => {\n        const doPost = () => {\n            postReservationGroup(null, {\n                reservations,\n                text,\n                type: RESERVATION_TYPES.NORMAL,\n            }, () => {\n                message.success(\"Reservierung erfolgreich\");\n                onFinish();\n            });\n        };\n\n        Modal.confirm({\n            icon: false,\n            okText: 'Akzeptieren',\n            width: 530,\n            centered: true,\n            content: (\n                <div dangerouslySetInnerHTML={{ __html: reservationTos.body }} />\n            ),\n            onOk: doPost,\n        });\n    }, [\n        onFinish,\n        postReservationGroup,\n        reservations,\n        reservationTos,\n        text,\n    ]);\n\n    const handleChangeReservation = useCallback(() => {\n        const doChange = () => {\n            patchReservationGroup({\n                path: {\n                    groupId: reservation.groupId\n                }\n            }, {\n                reason: adminEdit ? changeReason : undefined,\n                reservations,\n                text,\n            }, () => {\n                message.success(\"Speichern erfolgreich\");\n                onFinish();\n            });\n        };\n\n        Modal.confirm({\n            title: 'Wirklich speichern?',\n            icon: <ExclamationCircleOutlined />,\n            centered: true,\n            content: (\n                <div className={styles.wrapper}>\n\n                    {newReservations.length > 0 &&\n                        <>\n                            <div className={styles.heading}>Neue Termine</div>\n                            <ul>\n                                {newReservations.map(({ courtId, from, to }) => (\n                                    <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                                ))}\n                            </ul>\n                        </>\n                    }\n\n                    {cancelReservations.length > 0 &&\n                        <>\n                            <div className={styles.heading}>Zu Stornieren</div>\n                            <ul>\n                                {cancelReservations.map(({ courtId, from, to }) => (\n                                    <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                                ))}\n                            </ul>\n                        </>\n                    }\n\n                    {changeText &&\n                        <>\n                            <div className={styles.heading}>Änderungen</div>\n                            <ul>\n                                <li>Name: <strong>{text}</strong></li>\n                            </ul>\n                        </>\n                    }\n\n                </div>\n            ),\n            okText: 'Bestätigen',\n            okType: 'danger',\n            cancelText: 'Abbrechen',\n            onOk: doChange\n        });\n    }, [\n        adminEdit,\n        cancelReservations,\n        changeReason,\n        changeText,\n        courts,\n        newReservations,\n        onFinish,\n        patchReservationGroup,\n        reservation,\n        reservations,\n        text,\n    ]);\n\n\n    const handleCancelReservation = useCallback(() => {\n        let cancelType = 'single';\n\n        const handleCancelTypeChange = e => (cancelType = e.target.value);\n\n        const doDelete = () => {\n            const reqParams = {\n                path: {\n                    groupId: reservation.groupId\n                }\n            };\n            const cb = () => {\n                message.success(\"Stornierung erfolgreich\");\n                onFinish();\n            }\n\n            let reservations;\n            if (cancelType === 'single') {\n                reservations = groupReservations.filter(r => !r.from.isSame(reservation.from, 'day'));\n            } else if (cancelType === 'allActive') {\n                reservations = groupReservations.filter(r => r.from.isBefore(dayjs(), 'hour'));\n            } else {\n                reservations = [];\n            }\n\n            patchReservationGroup(reqParams, {\n                reason: adminEdit ? changeReason : undefined,\n                reservations,\n            }, cb);\n        };\n\n        if (groupReservations.length <= 1) {\n            doDelete();\n        } else {\n            Modal.confirm({\n                title: 'Termine stornieren',\n                icon: <ExclamationCircleOutlined />,\n                centered: true,\n                content: (\n                    <Radio.Group \n                        className={styles.cancelRadioGroup}\n                        onChange={handleCancelTypeChange}\n                        defaultValue={cancelType}\n                    >\n                        <Radio value=\"single\">Nur diesen Termin</Radio>\n                        <ul>\n                            <li key={reservation.from}>{reservation.from.format('dd[\\xa0]L')}, {reservation.from.hour()}&nbsp;bis&nbsp;{reservation.to.hour()}&nbsp;Uhr, {getCourtName(courts, reservation.courtId)}</li>\n                        </ul>\n                        <Radio value=\"allActive\">Alle offenen Termine</Radio>\n                        <ul>\n                            {groupReservations.filter(r => !r.from.isBefore(dayjs(), 'hour')).map(({ courtId, from, to }) => (\n                                <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                            ))}\n                        </ul>\n                        {user?.admin &&\n                            <>\n                                <Radio value=\"all\">Alle Termine</Radio>\n                                <ul>\n                                    {groupReservations.map(({ courtId, from, to }) => (\n                                        <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                                    ))}\n                                </ul>\n                            </>\n                        }\n                    </Radio.Group>\n                ),\n                okText: 'Stornieren',\n                okType: 'danger',\n                cancelText: 'Abbrechen',\n                onOk: doDelete,\n            });\n        }\n    }, [\n        adminEdit,\n        changeReason,\n        courts,\n        groupReservations,\n        onFinish,\n        patchReservationGroup,\n        reservation,\n        user?.admin,\n    ]);\n\n    useEffect(() => {\n        if (prevErrorRef.current.post === postState.error\n            && prevErrorRef.current.patch === patchState.error)\n            return;\n        prevErrorRef.current.post = postState.error;\n        prevErrorRef.current.patch = patchState.error;\n\n        const message = postState.error?.message || patchState.error?.message;\n        if (unavailableReservations) {\n            Modal.error({\n                centered: true,\n                title: 'Reservierung fehlgeschlagen',\n                content: (\n                    <div>\n                        <div>\n                            Folgende Termine sind nicht verfügbar:\n                        </div>\n                        <ul>\n                            {unavailableReservations.map(({ courtId, from, to }) => (\n                                <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                            ))}\n                        </ul>\n                    </div>\n                )\n            });\n        } else if (message === 'too many active reservations') {\n            const value = postState.error?.value || patchState.error?.value;\n            const max = postState.error?.max || patchState.error?.max;\n            const diff = Math.abs(value - max);\n            Modal.error({\n                centered: true,\n                title: 'Reservierungslimit erreicht',\n                content: (\n                    <div>\n                        {reservations?.length > diff ?\n                            (\n                                <p>\n                                    Bitte entfernen Sie mindestens <strong>{diff}</strong> Termine.\n                                </p>\n                            ) : (\n                                <p>\n                                    Sie können aktuell keine weiteren Termine reservieren.\n                                </p>\n                            )\n                        }\n                        <p>\n                            Es können maximal {max} Reservierungen im voraus getätigt werden. Bereits vergangene Termine werden dabei nicht angerechnet.\n                        </p>\n                    </div>\n                )\n            });\n        }\n    }, [courts, reservations?.length, postState.error, patchState.error, unavailableReservations])\n\n    if (\n        state.error\n        || (postState.error && !postState.error.unavailableReservations && postState.error.message !== 'too many active reservations')\n        || (patchState.error && !patchState.error.unavailableReservations && patchState.error.message !== 'too many active reservations')\n    ) {\n        return (\n            <Modal\n                title=\"Reservierung\"\n                visible={true}\n                centered\n                onCancel={onFinish}\n                onOk={onFinish}\n                footer={\n                    <div className={styles.footer}>\n                        <Button onClick={onFinish}>\n                            Abbrechen\n                        </Button>\n                    </div>\n                }\n            >\n                <div className={styles.wrapper}>\n                    <ErrorResult />\n                </div>\n            </Modal>\n        );\n    }\n\n    return (\n        <Modal\n            visible={true}\n            width={530}\n            centered\n            onCancel={onFinish}\n            onOk={onFinish}\n            footer={loading ?\n                (\n                    <StatusText\n                        loading\n                        text=\"Bitte warten...\"\n                    />\n                ) : (\n                    <div className={styles.footer}>\n                        <Button onClick={onFinish}>\n                            {canEdit ? 'Abbrechen' : 'Schließen'}\n                        </Button>\n                        {canEdit && (reservation ?\n                            (\n                                <>\n                                    <Button\n                                        type=\"danger\"\n                                        onClick={handleCancelReservation}\n                                        disabled={adminEdit && !changeReason}\n                                    >\n                                        Stornieren\n                                    </Button>\n                                    <Button\n                                        type=\"primary\"\n                                        onClick={handleChangeReservation}\n                                        disabled={\n                                            !(newReservations?.length || cancelReservations?.length || changeText)\n                                            || (adminEdit && !changeReason)\n                                        }\n                                    >\n                                        Speichern\n                                    </Button>\n                                </>\n                            ) : (\n                                <Button\n                                    disabled={!newReservations?.length}\n                                    type=\"primary\"\n                                    onClick={handlePostReservation}\n                                >\n                                    Reservieren\n                                </Button>\n                            )\n                        )}\n                    </div>\n                )\n            }\n        >\n            <div className={styles.wrapper}>\n                {state.loading ?\n                    (\n                        <Ball visible spin centered large />\n                    ) : (\n\n                        <ReservationDetailsForm\n                            courtId={courtId}\n                            currentReservations={groupReservations}\n                            disabled={loading}\n                            from={from}\n                            onCourtIdChange={setCourtId}\n                            onFromChange={setFrom}\n                            onReservationsChange={setReservations}\n                            onTextChange={setText}\n                            onToChange={setTo}\n                            readOnly={!canEdit}\n                            text={text}\n                            to={to}\n                            unavailableReservations={unavailableReservations}\n                        />\n                    )\n                }\n\n                {adminEdit &&\n                    <Form layout=\"vertical\">\n                        <Form.Item \n                            label=\"Grund der Änderung\"\n                            required\n                        >\n                            <Input.TextArea\n                                autoSize\n                                disabled={loading}\n                                onChange={handleChangeChangeReason}\n                                placeholder=\"Erforderlich\"\n                                required\n                                value={changeReason}\n                            />\n                            <div className={styles.changeReasonHint}>\n                                Der Inhaber der Reservierung wird über die Änderungen sowie dessen Grund per E-Mail informiert.\n                            </div>\n                        </Form.Item>\n                    </Form>\n                }\n            </div>\n        </Modal>\n    );\n}","import { Button, Modal, Result } from 'antd';\nimport React, { useCallback, useContext } from 'react';\n\nimport { authContext } from '../AuthContext';\nimport styles from './VerifyMailModal.module.css';\nimport { useHistory } from 'react-router-dom';\n\nexport function VerifyMailModal({\n    onClose\n}) {\n    const { user } = useContext(authContext);\n    const history = useHistory();\n\n    const handleChangeMailClick = useCallback(() => {\n        history.push('/profile');\n    }, [history]);\n    \n    const handleResendMail = useCallback(() => {\n        history.push('/verify-mail/send');\n    }, [history]);\n\n    return (\n        <Modal\n            title=\"E-Mail nicht verifiziert\"\n            visible={true}\n            centered\n            width={580}\n            onCancel={onClose}\n            onOk={onClose}\n            footer={null}\n        >\n            <Result\n                status=\"warning\"\n                title=\"Bitte bestätigen Sie Ihre E-Mail Adresse\"\n                extra={\n                    <div>\n                        <div>\n                            Klicken Sie auf den Bestätigungslink, den Sie bei Ihrer Registrierung an <strong>{user?.mail}</strong> erhalten haben.\n                        </div>\n                        <div className={styles.buttons}>\n                            <Button type=\"primary\" onClick={handleResendMail}>\n                                Bestätigungslink erneut senden\n                            </Button>\n                            <Button type=\"link\" onClick={handleChangeMailClick}>\n                                E-Mail Adresse ändern\n                            </Button>\n                        </div>\n                    </div>\n                }\n            />\n        </Modal>\n    );\n}","import React, { useContext } from 'react';\n\nimport { DisableReservationGroupModal } from './DisableReservationGroupModal';\nimport { LoginModal } from '../user/LoginModal';\nimport { RESERVATION_TYPES } from '../ReservationTypes';\nimport { ReservationGroupModal } from './ReservationGroupModal';\nimport { VerifyMailModal } from '../user/VerifyMailModal';\nimport { authContext } from '../AuthContext';\n\nexport function ReservationModal(props) {\n    \n    const { user } = useContext(authContext);\n    const { onFinish, reservation, type } = props;\n\n    if (!user)\n        return <LoginModal onClose={onFinish} />\n\n    if (!user.verified)\n        return <VerifyMailModal onClose={onFinish} />\n\n    if (reservation?.type === RESERVATION_TYPES.DISABLE || type === RESERVATION_TYPES.DISABLE)\n        return <DisableReservationGroupModal {...props} />;\n\n    return <ReservationGroupModal {...props} />;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cell\":\"SlotCell_cell__10BAl\",\"enabled\":\"SlotCell_enabled__3WkTf\",\"alwaysClickable\":\"SlotCell_alwaysClickable__9sej8\",\"slot\":\"SlotCell_slot__2KRoY\",\"text\":\"SlotCell_text__1xoLV\",\"singleLine\":\"SlotCell_singleLine__22a8x\",\"reserved\":\"SlotCell_reserved__1oREX\",\"mine\":\"SlotCell_mine__Fe5AN\",\"loading\":\"SlotCell_loading__19J7J\",\"load\":\"SlotCell_load__YLQlz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DayTable_wrapper__1Hl5M\",\"col\":\"DayTable_col__1XNy5\",\"cols\":\"DayTable_cols__3g9Sf\",\"date\":\"DayTable_date__3HnYm\",\"today\":\"DayTable_today__3s1dj\",\"court\":\"DayTable_court__3mDRl\",\"body\":\"DayTable_body__27nsw\",\"blur\":\"DayTable_blur__1Rzxw\",\"infoOverlay\":\"DayTable_infoOverlay__2JlXg\",\"linkButton\":\"DayTable_linkButton__3jjgW\",\"adminAction\":\"DayTable_adminAction__3kbRX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"HoursTable_wrapper__1o48U\",\"hour\":\"HoursTable_hour__2iAsO\",\"to\":\"HoursTable_to__U0x1y\",\"highlight\":\"HoursTable_highlight__16BlN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ReservationCalendar_wrapper__r-AWI\",\"tableWrapper\":\"ReservationCalendar_tableWrapper__Zzm8d\",\"tableScroller\":\"ReservationCalendar_tableScroller__1fVFR\"};","import React, { useCallback, useContext } from 'react';\n\nimport { RESERVATION_TYPES } from '../ReservationTypes';\nimport { authContext } from '../AuthContext';\nimport classNames from 'classnames/bind';\nimport styles from './SlotCell.module.css';\n\nconst cn = classNames.bind(styles);\n\nconst SLOT_HEIGHT_PX = 32;\nconst CELL_PADDING_PX = 3;\n\nexport function SlotCell({\n    alwaysClickable = false,\n    baseRowSpan,\n    courtId,\n    courtName,\n    from,\n    to,\n    rowIndex,\n    rows,\n    disabled = false,\n    loading = false,\n    onClick,\n    reservation,\n}) {\n    const { user } = useContext(authContext);\n\n    const handleClick = useCallback(() => {\n        if (alwaysClickable || (!disabled && reservation?.type !== RESERVATION_TYPES.DISABLE))\n            onClick({ courtId, from, to, reservation });\n    }, [alwaysClickable, courtId, from, to, disabled, onClick, reservation]);\n\n    let rowSpan = baseRowSpan;\n    if (reservation) {\n        if (reservation.from.isBefore(from, 'hour') && rowIndex !== 0) {\n            rowSpan = 0;\n        } else {\n            const maxRowSpan = (rows[rows.length - 1].to.hour() || 24) - from.hour();\n            if (from.isSame(reservation.to, 'day')) {\n                const diff = reservation.to.diff(from, 'hour');\n                rowSpan = 0;\n                for (let i = rowIndex; i < rowIndex + diff; ++i)\n                    rowSpan += rows[i].span;\n            } else {\n                rowSpan = maxRowSpan;\n            }\n        }\n    }\n\n    if (rowSpan === 0)\n        return null;\n\n    return (\n        <div\n            className={cn({\n                alwaysClickable,\n                cell: true,\n                enabled: !disabled && reservation?.type !== RESERVATION_TYPES.DISABLE,\n            })}\n            style={{ padding: CELL_PADDING_PX }}\n            onClick={handleClick}\n        >\n            <div\n                className={cn({\n                    slot: true,\n                    loading,\n                    reserved: reservation?.type === RESERVATION_TYPES.NORMAL,\n                    mine: user && user?.userId === reservation?.userId,\n                })}\n                style={{ height: SLOT_HEIGHT_PX * rowSpan + CELL_PADDING_PX * 2 * (rowSpan - 1) }}\n                data-free-text=\"Frei\"\n                data-free-text-hover={`${from.hour()} Uhr, ${courtName}`}\n            >\n                <div className={cn({\n                    text: true,\n                    singleLine: rowSpan === 1,\n                })}>\n                    {reservation && (reservation.type === RESERVATION_TYPES.DISABLE ?\n                        (\n                            <>\n                                <div>Gesperrt</div>\n                                <div>{reservation.text}</div>\n                            </>\n                        ) : (\n                            <div>{reservation.text || reservation.name}</div>\n                        )\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n","import React, { useCallback, useContext, useEffect, useMemo, useState } from 'react';\nimport { findReservation, visibleHoursToLocalizedHourRange } from '../helper';\n\nimport { Button } from 'antd';\nimport { SlotCell } from './SlotCell';\nimport { appContext } from '../AppContext';\nimport { authContext } from '../AuthContext';\nimport classNames from 'classnames/bind';\nimport styles from './DayTable.module.css';\nimport { useTime } from './useTime';\n\nconst cn = classNames.bind(styles);\n\nexport function DayTable({\n    courts,\n    date,\n    loading,\n    onDisableCourtClick,\n    onSlotClick,\n    reservationDaysInAdvance,\n    reservations,\n}) {\n    const { config: { visibleHours } } = useContext(appContext);\n    const { user } = useContext(authContext);\n    const [disableOverlay, setDisableOverlay] = useState(false);\n    useEffect(() => setDisableOverlay(false), [user]);\n\n    const now = useTime('hour');\n\n    const isToday = useMemo(() => now.isSame(date, 'day'), [date, now]);\n    const tooFarAhead = useMemo(() =>\n        date.isAfter(now.add(reservationDaysInAdvance, 'day'), 'day'), [date, now, reservationDaysInAdvance]);\n    const reservableAsOf = useMemo(() => date.subtract(reservationDaysInAdvance, 'day').format('L'), [date, reservationDaysInAdvance]);\n\n    const showInfoOverlay = !disableOverlay && tooFarAhead;\n\n    const rows = useMemo(() => (\n        visibleHoursToLocalizedHourRange(date, visibleHours)\n    ), [date, visibleHours]);\n\n    const handleDisableOverlayClick = useCallback(() => setDisableOverlay(true), []);\n\n    const handleDisableCourtClick = (courtId) => {\n        onDisableCourtClick({\n            courtId,\n            from: date.hour(0),\n            to: date.hour(24),\n        });\n    };\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.date}>\n                {isToday && <span className={styles.today}>Heute</span>}\n                {date.format('dd[\\xa0]L')}\n            </div>\n\n            <div className={styles.cols}>\n                {courts.map(({ courtId, name }) => (\n                    <div key={courtId} className={styles.court}>\n                        {name}\n                    </div>\n                ))}\n            </div>\n\n            <div className={cn('body', 'cols')}>\n                {courts.map(({ courtId, name }) => (\n                    <div\n                        key={courtId}\n                        className={cn({ \n                            col: true,\n                            blur: showInfoOverlay \n                        })}\n                    >\n                        {rows.map(({ from, to, span }, i) => (\n                            <SlotCell\n                                alwaysClickable={user?.admin}\n                                courtId={courtId}\n                                courtName={name}\n                                rowIndex={i}\n                                rows={rows}\n                                from={from}\n                                to={to}\n                                baseRowSpan={span}\n                                disabled={from.isBefore(now, 'hour')}\n                                key={from}\n                                loading={loading}\n                                onClick={onSlotClick}\n                                reservation={findReservation(reservations, from, to, courtId)}\n                            />\n                        ))}\n                        {user?.admin &&\n                            <div className={styles.adminAction}>\n                                <Button\n                                    type=\"link\"\n                                    onClick={() => handleDisableCourtClick(courtId)}\n                                >\n                                    Sperren\n                                </Button>\n                            </div>\n                        }\n                    </div>\n                ))}\n\n                {showInfoOverlay &&\n                    <div className={styles.infoOverlay}>\n                        <div>Reservierbar<br />ab {reservableAsOf}</div>\n                        {user?.admin &&\n                            <Button\n                                className={styles.linkButton}\n                                type=\"link\"\n                                onClick={handleDisableOverlayClick}\n                            >\n                                Trotzdem reservieren<br />(Trainer/Admin)\n                            </Button>\n                        }\n                    </div>\n                }\n            </div>\n        </div>\n    );\n}\n","import React, { useContext, useMemo } from 'react';\n\nimport { appContext } from '../AppContext';\nimport classNames from 'classnames/bind';\nimport styles from './HoursTable.module.css';\nimport { useTime } from './useTime';\nimport { visibleHoursToHoursArray } from '../helper';\n\nconst cn = classNames.bind(styles);\n\nexport function HoursTable({\n    highlightHour,\n}) {\n    const { config: { visibleHours } } = useContext(appContext);\n\n    const now = useTime('hour');\n\n    const hours = useMemo(() => visibleHoursToHoursArray(visibleHours), [visibleHours]);\n\n    return (\n        <div className={styles.wrapper}>\n            {hours.map(hour => (\n                <div \n                    key={hour} \n                    className={cn({ \n                        hour: true,\n                        highlight: highlightHour && now.hour() === hour\n                    })}\n                >\n                    {hour} Uhr<br />\n                    <span className={styles.to}>bis {(hour + 1) % 24} Uhr</span>\n                </div>\n            ))}\n        </div>\n    );\n}","import React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\n\nimport { DayTable } from './DayTable';\nimport { ErrorResult } from '../ErrorResult';\nimport { HoursTable } from './HoursTable';\nimport { RESERVATION_TYPES } from '../ReservationTypes';\nimport { ReservationModal } from './ReservationModal';\nimport { UPDATE_INTERVALS_SEC } from '../updateIntervals';\nimport { appContext } from '../AppContext';\nimport { getReservationsApi } from '../api';\nimport styles from './ReservationCalendar.module.css';\nimport { useApi } from '../useApi';\nimport { useTime } from './useTime';\nimport { useUpdateEffect } from '../useUpdateEffect';\n\nconst VISIBLE_DATES_COUNT = 7; // week\n\nexport function ReservationCalendar({\n    kiosk = false,\n    selectedDate,\n}) {\n    const { courts, config: { reservationDaysInAdvance } } = useContext(appContext);\n\n    const today = useTime('day');\n\n    const [selectedSlot, setSelectedSlot] = useState();\n    const scrollerRef = useRef();\n\n    const [reservations, setReservations] = useState(null);\n    const [state, getReservations] = useApi(getReservationsApi, setReservations); \n\n    const updateReservations = useCallback(() => getReservations({\n        query: {\n            start: selectedDate.startOf('week').toISOString(),\n            end: selectedDate.endOf('week').toISOString(),\n        }\n    }), [selectedDate, getReservations]);\n\n    useUpdateEffect(updateReservations, UPDATE_INTERVALS_SEC.RESERVATIONS);\n\n    useEffect(() => {\n        setReservations(null);\n        updateReservations();\n    }, [updateReservations]);\n\n    const visibleDates = useMemo(() => Array.from(Array(VISIBLE_DATES_COUNT)).map((_, i) =>\n        selectedDate.startOf('week').add(i, 'day') // startOf also sets hours, mins, secs to zero\n    ), [selectedDate]);\n\n    // scroll automatically to today's date\n    useEffect(() => {\n        if (!scrollerRef.current)\n            return;\n        if (selectedDate.isSame(today, 'week')) {\n            const index = Math.abs(today.startOf('week').diff(today, 'day'));\n            requestAnimationFrame(() => {\n                scrollerRef.current.scrollLeft\n                    = ((scrollerRef.current.scrollWidth) / VISIBLE_DATES_COUNT) * index;\n            });\n        } else {\n            requestAnimationFrame(() => {\n                scrollerRef.current.scrollLeft = 0;\n            });\n        }\n    }, [selectedDate, today]);\n\n    const handleSlotClicked = useCallback(selectedSlot => {\n        if (!kiosk)\n            setSelectedSlot(selectedSlot);\n    }, [kiosk]);\n\n    const handleDisableCourtClicked = useCallback(selectedSlot => {\n        setSelectedSlot({ \n            ...selectedSlot,\n            type: RESERVATION_TYPES.DISABLE,\n        });\n    }, []);\n\n    const handleReservationFinish = useCallback(() => {\n        setSelectedSlot(null);\n    }, []);\n\n    if (state.error)\n        return (\n            <div className={styles.tableWrapper}>\n                <ErrorResult />\n            </div>\n        );\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.tableWrapper}>\n                <HoursTable\n                    highlightHour={selectedDate.isSame(today, 'week')}\n                />\n\n                <div className={styles.tableScroller} ref={scrollerRef}>\n                    {visibleDates.map(date => (\n                        <DayTable\n                            courts={courts}\n                            date={date}\n                            key={date}\n                            loading={!reservations}\n                            onDisableCourtClick={handleDisableCourtClicked}\n                            onSlotClick={handleSlotClicked}\n                            reservationDaysInAdvance={reservationDaysInAdvance}\n                            reservations={reservations}\n                        />\n                    ))}\n                </div>\n            </div>\n\n            {selectedSlot &&\n                <ReservationModal\n                    initialCourtId={selectedSlot?.courtId}\n                    initialFrom={selectedSlot?.from}\n                    initialTo={selectedSlot?.to}\n                    reservation={selectedSlot?.reservation}\n                    type={selectedSlot?.type}\n                    onFinish={handleReservationFinish}\n                    setReservations={setReservations}\n                />\n            }\n        </div>\n    );\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"WeekPicker_wrapper__gW-q4\",\"middlePicker\":\"WeekPicker_middlePicker__1K4lw\",\"outerThisWeekButton\":\"WeekPicker_outerThisWeekButton__3-TVK\",\"picker\":\"WeekPicker_picker__1eBe4\",\"leftButton\":\"WeekPicker_leftButton__2mGJ3\",\"rightButton\":\"WeekPicker_rightButton__1yWle\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"CalendarPage_wrapper__29en7\",\"alert\":\"CalendarPage_alert__3_59q\"};","// This icon file is generated automatically.\nvar LeftOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z\" } }] }, \"name\": \"left\", \"theme\": \"outlined\" };\nexport default LeftOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LeftOutlinedSvg from \"@ant-design/icons-svg/es/asn/LeftOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar LeftOutlined = function LeftOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: LeftOutlinedSvg\n  }));\n};\n\nLeftOutlined.displayName = 'LeftOutlined';\nexport default React.forwardRef(LeftOutlined);","// This icon file is generated automatically.\nvar RightOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z\" } }] }, \"name\": \"right\", \"theme\": \"outlined\" };\nexport default RightOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport RightOutlinedSvg from \"@ant-design/icons-svg/es/asn/RightOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar RightOutlined = function RightOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: RightOutlinedSvg\n  }));\n};\n\nRightOutlined.displayName = 'RightOutlined';\nexport default React.forwardRef(RightOutlined);","import { LeftOutlined, RightOutlined } from '@ant-design/icons';\nimport React, { useCallback, useState } from 'react';\n\nimport Button from 'antd/es/button';\nimport { DatePicker } from './DatePicker';\nimport dayjs from 'dayjs';\nimport styles from './WeekPicker.module.css';\n\nexport function WeekPicker({\n    date,\n    onChange,\n}) {\n    const [open, setOpen] = useState(false);\n\n    const handleClick = useCallback(() => {\n        setOpen(true);\n    }, []);\n\n    const handlePreviousButtonClick = useCallback(e => {\n        onChange(date.subtract(7, 'days'));\n        setOpen(false);\n    }, [date, onChange]);\n\n    const handleNextButtonClick = useCallback(e => {\n        onChange(date.add(7, 'days'));\n        setOpen(false);\n    }, [date, onChange]);\n\n    const handleThisWeekButtonClick = useCallback(e => {\n        onChange(dayjs());\n        setOpen(false);\n    }, [onChange]);\n\n    const handleChange = useCallback(date => {\n        onChange(date);\n        setOpen(false);\n    }, [onChange]);\n\n    const handleOpenChange = useCallback(newOpen => {\n        setOpen(newOpen);\n    }, []);\n\n    return (\n        <div className={styles.wrapper}>\n\n            <div className={styles.middlePicker}>\n                <DatePicker\n                    className={styles.picker}\n                    picker=\"week\"\n                    open={open}\n                    inputReadOnly\n                    allowClear={false}\n                    bordered={true}\n                    value={date}\n                    onOpenChange={handleOpenChange}\n                    format={'[Kalenderwoche] w (YYYY)'}\n                    onClick={handleClick}\n                    onChange={handleChange}\n                    renderExtraFooter={() => \n                        <Button onClick={handleThisWeekButtonClick} type=\"link\">Diese Woche</Button>\n                    }\n                />\n\n                <Button \n                    className={styles.outerThisWeekButton}\n                    onClick={handleThisWeekButtonClick} \n                    type=\"link\"\n                >\n                    Zu Heute springen\n                </Button>\n            </div>\n\n            <Button \n                className={styles.leftButton} \n                onClick={handlePreviousButtonClick}\n            >\n                <LeftOutlined />\n                Vorherige Woche\n            </Button>\n\n            <Button \n                className={styles.rightButton} \n                onClick={handleNextButtonClick}\n            >\n                Nächste Woche\n                <RightOutlined />\n            </Button>\n\n        </div>\n    );\n}","import React, { useCallback, useState } from 'react';\n\nimport { ReservationCalendar } from './ReservationCalendar';\nimport { WeekPicker } from './WeekPicker';\nimport styles from './CalendarPage.module.css';\nimport { useTime } from './useTime';\n\nexport function CalendarPage() {\n\n    const today = useTime('day');\n    const [selectedDate, setSelectedDate] = useState(null);\n\n    const handleWeekChange = useCallback(date => {\n        setSelectedDate(date);\n    }, []);\n\n    return (\n        <div className={styles.wrapper}>\n            <WeekPicker\n                date={selectedDate || today}\n                onChange={handleWeekChange}\n            />\n\n            <ReservationCalendar\n                selectedDate={selectedDate || today}\n            />\n        </div>\n    );\n}"],"sourceRoot":""}